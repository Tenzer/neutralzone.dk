<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta charset='utf-8' />
    <title>Live tweets from Danish American Football teams</title>
    <script src='http://localhost:3000/socket.io/socket.io.js'></script>
    <script src='js/tinyDOM.min.js'></script>
    <script>
      var socket = io.connect('http://localhost:3000');

      socket.on('users', function (data) {
        $.id('current_users').innerHTML = data.count;
      });

      socket.on('tweet', function (data) {
        var item = document.createElement('li');
        item.innerHTML = 'User: ' + data.user.name + '<br />Date: ' + data.created_at + '<br />Tweet: ' + data.text;
        var list = $.id('tweets');
        list.insertBefore(item, list.firstChild);
      });
    </script>
  </head>
  <body>
    <h1>Live tweets from Danish American Football teams</h1>
    <div>Currently connected users: <span id='current_users'>0</span></div>
    <div>
      <ul id='tweets'>
      </ul>
    </div>
  </body>
</html>
